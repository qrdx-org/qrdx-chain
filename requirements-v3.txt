# QRDX Node v3.0 Requirements
# 
# This file contains the new dependencies needed for the modernized blockchain.
# Install with: pip install -r requirements-v3.txt

# ============================================================================
# EXISTING DEPENDENCIES (kept for compatibility)
# ============================================================================
requests~=2.31.0
fastapi~=0.109.0
slowapi~=0.1.9
icecream~=2.1.3
aiosqlite>=0.19.0
uvicorn~=0.27.0
starlette~=0.35.0
python-dateutil~=2.8.2
pickleDB~=0.9.2
base58~=0.2.2
httpx~=0.26.0
python-dotenv~=1.0.1
rich~=14.2.0

# ============================================================================
# NEW: WEB3 CRYPTOGRAPHY (secp256k1)
# ============================================================================
# Ethereum-compatible cryptography
eth-keys>=0.5.0
eth-account>=0.11.0
eth-typing>=4.0.0
eth-utils>=3.0.0

# Hash functions (keccak256)
eth-hash[pycryptodome]>=0.6.0
pycryptodome>=3.20.0

# RLP encoding
pyrlp>=4.0.0
eth-rlp>=2.1.0

# ============================================================================
# NEW: P2P NETWORKING
# ============================================================================
# Kademlia DHT and P2P
lru-dict>=1.2.0
cached-property>=1.5.2

# Async networking
trio>=0.24.0
trio-asyncio>=0.15.0
asyncio-dgram>=2.2.0

# WebSockets
websockets>=12.0

# Network utilities
netifaces>=0.11.0

# ============================================================================
# NEW: POST-QUANTUM CRYPTOGRAPHY
# ============================================================================
# Note: liboqs-python requires liboqs system library
# Install liboqs first: https://github.com/open-quantum-safe/liboqs
# For Debian/Ubuntu: apt-get install liboqs-dev
# Or build from source following OQS instructions
liboqs-python>=0.9.0

# BLAKE3 hashing for PQ node identity
blake3>=0.4.0

# AES-256-GCM channel encryption (post-PQ-handshake)
cryptography>=42.0.0

# ============================================================================
# NEW: CLI WALLET
# ============================================================================
click>=8.1.0
typer>=0.9.0

# ============================================================================
# NEW: CONFIGURATION
# ============================================================================
# TOML config files
tomli>=2.0.1  # Python < 3.11
tomli-w>=1.0.0

# ============================================================================
# NEW: MONITORING (optional)
# ============================================================================
# prometheus-client>=0.19.0  # Uncomment for metrics

# ============================================================================
# DEVELOPMENT DEPENDENCIES
# ============================================================================
# Uncomment for development
# pytest>=7.4.0
# pytest-asyncio>=0.23.0
# pytest-cov>=4.1.0
# mypy>=1.8.0
# black>=24.1.0
# isort>=5.13.0
# flake8>=7.0.0

# ============================================================================
# LEGACY (to be removed in future versions)
# ============================================================================
# fastecdsa is being replaced by eth-keys for secp256k1
# Keep for now for P256 backward compatibility during migration
fastecdsa~=2.3.2
